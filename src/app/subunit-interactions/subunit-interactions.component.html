<div class="flex container flex-column">
  <div class="flex-item">
    <h4>Target: XYZ Target</h4> <!-- @TODO Change target name to codeface font -->
    <form [formGroup]="interactionForm">
      <!-- SubUnit Interactions section -->
      <div>Sub Unit Interactions</div>
      <div>
        <button class="btn" (click)="addSubUnitInteraction()">Add New Interaction</button>
      </div>

      <div class="flex flex-item">
        <div class="flex-item interaction-label">Sub Unit Name</div>
        <div class="flex-item interaction-label">Copy #</div>
        <div class="flex-item interaction-label">Interaction Type</div>
        <div class="flex-item interaction-label">Sub Unit Name</div>
        <div class="flex-item interaction-label">Copy #</div>
      </div>

      <div formArrayName="subunits" *ngFor="let subunit of subunits.controls; let i = index;">
        <div class="flex flex-item" [formGroupName]="i">
          <select class="flex-item interaction-field" formControlName="nameA">
            <!-- @TODO subunit names are populated from  new target response -->
            <option>Sub Unit A</option>
            <option>Sub Unit B</option>
            <option>Sub Unit C</option>
          </select>

          <input class="flex-item interaction-field" type="number" formControlName="copyNumA">

          <select class="flex-item interaction-field" formControlName="type">
            <option>Covalent</option>
            <option>Another type</option>
          </select>

          <input class="flex-item interaction-field" type="text" formControlName="nameB">

          <input class="flex-item interaction-field" type="number" formControlName="copyNumB">

          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
              class="icon-red" />
            <path d="M0 0h24v24H0z" fill="none"/>
          </svg>
        </div>
      </div>
    <!-- PTM section -->
    <div class="margin-top">Post Translation Modifications</div>
    <div>
      <button class="btn" (click)="addPtm()">Add New PTM</button>
    </div>

    <div class="flex flex-item">
      <span class="flex-item interaction-label">Sub Unit Name</span>
      <span class="flex-item interaction-label">Residue Number</span>
      <span class="flex-item interaction-label">Sub Unit Name</span>
      <span class="flex-item interaction-label">Residue Number</span>
      <span class="flex-item interaction-label">Post Translation Modification</span>
    </div>

    <div formArrayName="ptms" *ngFor="let ptm of ptms.controls; let i = index;">
      <!-- @TODO add styled divider between PTM forms-->
      <div class="flex flex-item" [formGroupName]="i">
        <select class="flex-item interaction-field" formControlName="nameA">
          <option>Sub Unit A</option>
          <option>Sub Unit B</option>
          <option>Sub Unit C</option>
        </select>

        <input class="flex-item interaction-field" type="number" formControlName="resNumA">

        <select class="flex-item interaction-field" formControlName="nameB">
          <option>Sub Unit A</option>
          <option>Sub Unit B</option>
          <option>Sub Unit C</option>
        </select>

        <input class="flex-item interaction-field" type="number" formControlName="resNumB">

        <select class="flex-item interaction-field" formControlName="ptm">
          <option>a</option>
          <option>b</option>
          <option>c</option>
        </select>

        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
            class="icon-red" />
          <path d="M0 0h24v24H0z" fill="none" />
        </svg>

      </div>
    </div>
  </form>

  <button class="btn btn-form" (click)="interactionForm.reset()">Cancel</button>
  <!-- API call, on success navigates to success screen. on error, load form with data and error message alert -->
  <button class="btn btn-form">Save</button>
</div>
